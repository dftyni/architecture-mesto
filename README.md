# Схема

[mongo-task.drawio](mongo-task.drawio)

# Скрипты

Все разложено по папка с вроде бы понятными названиями, самая полная версия в папке `mongo-sharding-repl-cache-api`

В каждой папке есть скрипт для наполнения сервисов `sh ./scripts/mongo-init.sh`

Но он иногда подключивает и какие то шаги там падают, возможно придется перезапустить несколько раз.

Гэйтвэй сделал на NGINX, для апдейста конфига добавлен контейнер с `consul_template`, но в этой схеме нет нормального рестарта nginx при отключении какого-нибудь сервиса.