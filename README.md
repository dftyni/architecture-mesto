# Схема

[mongo-task.drawio](mongo-task.drawio)

# Скрипты

Все разложено по папкам с вроде бы понятными названиями, самая полная версия в папке `mongo-sharding-repl-cache-api`

В каждой папке есть скрипт для наполнения сервисов `sh ./scripts/mongo-init.sh`

Но он иногда подключивает и какие то шаги там падают, возможно придется перезапустить несколько раз.

Гэйтвэй сделал на NGINX, для апдейта конфига добавлен контейнер с `consul_template`, но в этой схеме не реализован нормальный рестарт nginx при отключении какого-нибудь сервиса.

Про CDN не понял что и куда, так как статики в приложении нет, зачем там CDN и какое отношение он имеет к схеме не понятно, так как если даже статика появится приложение все равно с ним никак явно взаимодействовать не будет.