Проект: custom-api (замена kazhem/pymongo_api:1.0.0)

Это простое приложение на FastAPI. Оно подключается к MongoDB через mongos, читает коллекцию helloDoc и возвращает данные по маршруту /helloDoc/users.

Почему не использовал образ kazhem/pymongo_api:1.0.0:
Я пробовал его запустить, но он не отвечал на HTTP-запросы (ни /docs, ни /helloDoc/users не открывались). Также в контейнере не было утилит вроде curl или netstat, и не было никаких логов ошибок. Поведение было нестабильным, и я не смог его нормально использовать.

Вместо этого я собрал такой же образ вручную на FastAPI. Он использует те же переменные окружения (MONGODB_URL и MONGODB_DATABASE_NAME), но работает стабильно и предсказуемо. Всё протестировал — приложение отвечает и работает как нужно.

Как использовать:
В docker-compose.yaml вместо строки: image: kazhem/pymongo_api:1.0.0
нужно написать: build: ./custom-api

После этого запускаем: docker compose up -d --build
Приложение будет доступно по адресу:
http://localhost:8080
